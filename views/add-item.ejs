<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enter New Item</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <h1 class="mb-3 px-2 bd-highlight">Freezer App</h1>

    <h3 class="mb-3 px-2 bd-highlight">Enter New Item</h3>
    <form action="/addItem" method="post">
        <div class="mb-3 px-2 bd-highlight">
            <label for="">Entry Date: </label><input class="form-control" name="entryDate" id="entryDate" type="date">
        </div>
        <div class="mb-3 px-2 bd-highlight ">
            <label for="">Select Category: </label>
            <select id="dropdown" name="category">
                <option value="" disabled selected>Category List</option>
                <% for (let i = 0; i < data.length; i++) { %>
                    <option value="<%= data[i].category_id %>"><%= data[i].category_name %></option>
                <% } %>
            </select>
            <a href="/addCategory" >Add New Category</a>
        </div>
        <div class="mb-3 px-2 bd-highlight">
            <label for="">Name: </label><input class="form-control" name="itemName" id="itemName" type="text" value="<%= locals.name %>">
        </div>
        <div class="mb-3 px-2 bd-highlight">
            <label for="">Quantity: </label><input class="form-control" name="itemQty" id="itemQty" type="number">
        </div>
        <div class="mb-3 px-2 bd-highlight">
            <label for="">Expiration Date: </label><input class="form-control" name="expDate" id="expDate" type="date">
        </div>
        <div class="mb-3 px-2 bd-highlight">
            <label for="">Notes: </label><input class="form-control" name="notes" id="notes" type="text">
        </div>
        <div class="mb-3 px-2 bd-highlight">
            <button id="button" type="submit">Add Item</button>
        </div>
        <div class="mb-3 px-2 bd-highlight">
            <a href="/index" class="btn btn-primary">Back to home page</a>
        </div>
    </form>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
    const array = new Array()
    const date = new Date()
    let year = date.getFullYear().toString()
    let month = date.getMonth() + 1
    month = month.toLocaleString('en-US', {minimumIntegerDigits: 2})
    let day = date.getDate().toLocaleString('en-US', {minimumIntegerDigits: 2})
    let formatedDate = year + '-' + month + '-' + day

    document.addEventListener('DOMContentLoaded', () => {
        let entryDate = document.getElementById('entryDate')
        entryDate.value = formatedDate
        
    })
</script>
</html>